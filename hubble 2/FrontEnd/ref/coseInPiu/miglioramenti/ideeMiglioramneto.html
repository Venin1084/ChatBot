<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hubble - Esplora l'Universo</title>
  <style>
    :root {
      --deep-lavender: #7761A9;
      --lapis-blue: #25336E;
      --midnight: #130F3A;
      --dark-slate-blue: #403D91;
      --pearl-bush: #DEDEDD;
      --lavender-purple: #8474B7;
      --glass-bg: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.2);
      --success: #4CAF50;
      --warning: #FF9800;
    }

    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, var(--midnight) 0%, var(--lapis-blue) 50%, var(--dark-slate-blue) 100%);
      background-attachment: fixed;
      color: var(--pearl-bush);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
    }

    /* Stelle animate nel background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #fff, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: twinkle 4s infinite;
      pointer-events: none;
      z-index: -1;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    main {
      display: flex;
      min-height: 100vh;
      gap: 0;
    }

    .cronologia {
      position: relative;
      left: 0;
      top: 0;
      width: 280px;
      background: linear-gradient(190deg,
        rgba(64, 61, 145, 0.9) 0%,
        rgba(119, 97, 169, 0.9) 35%,
        rgba(132, 116, 183, 0.9) 70%,
        rgba(185, 164, 229, 0.9) 100%);
      backdrop-filter: blur(10px);
      border-right: 1px solid var(--glass-border);
      height: 100vh;
      text-align: center;
      padding: 30px 20px;
      box-shadow: 2px 0 20px rgba(0, 0, 0, 0.3);
    }

    .logo {
      margin-bottom: 30px;
      animation: float 3s ease-in-out infinite;
    }

    .logo img {
      width: 80px;
      height: 80px;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .pastTitile {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      opacity: 0.9;
    }

    .nomechat {
      background: var(--glass-bg);
      backdrop-filter: blur(5px);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 10px;
      font-size: 14px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .nomechat:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateX(5px);
    }

    .chatSection {
      position: relative;
      width: calc(100% - 280px);
      padding: 40px;
      padding-bottom: 120px;
      height: 100vh;
      overflow: hidden;
    }

    .botName {
      font-size: 48px;
      margin-bottom: 10px;
      font-weight: 700;
      background: linear-gradient(45deg,
        #403D91 0%,
        #7761A9 35%,
        #8474B7 70%,
        #B9A4E5 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: inline-block;
      animation: glow 2s ease-in-out infinite alternate;
      text-shadow: 0 0 20px rgba(119, 97, 169, 0.3);
    }

    @keyframes glow {
      from { filter: drop-shadow(0 0 5px rgba(119, 97, 169, 0.5)); }
      to { filter: drop-shadow(0 0 20px rgba(119, 97, 169, 0.8)); }
    }

    .subtitle {
      font-style: italic;
      margin: 10px 0 30px 0;
      font-size: 18px;
      opacity: 0.9;
    }

    .slider-container {
      display: flex;
      align-items: center;
      max-width: 100%;
      margin-bottom: 30px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 15px;
    }

    .nav {
      background: linear-gradient(135deg, var(--lavender-purple), var(--deep-lavender));
      color: white;
      border: none;
      padding: 12px 16px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 50%;
      min-width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(119, 97, 169, 0.3);
    }

    .nav:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(119, 97, 169, 0.5);
    }

    .nav:active {
      transform: scale(0.95);
    }

    .slider {
      overflow-x: auto;
      flex: 1;
      scroll-behavior: smooth;
      white-space: nowrap;
      margin: 0 15px;
      padding: 5px 0;
    }

    .slider::-webkit-scrollbar {
      height: 6px;
    }

    .slider::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
    }

    .slider::-webkit-scrollbar-thumb {
      background: var(--lavender-purple);
      border-radius: 3px;
    }

    .slider button {
      display: inline-block;
      min-width: 200px;
      margin: 5px;
      padding: 12px 20px;
      font-size: 14px;
      background: linear-gradient(135deg, var(--lavender-purple), var(--deep-lavender));
      color: var(--pearl-bush);
      border: none;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(119, 97, 169, 0.2);
      font-weight: 500;
    }

    .slider button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(119, 97, 169, 0.4);
      background: linear-gradient(135deg, var(--deep-lavender), var(--dark-slate-blue));
    }

    .chat-messages {
      height: calc(100vh - 450px);
      overflow-y: auto;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .chat-messages::-webkit-scrollbar {
      width: 8px;
    }

    .chat-messages::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    .chat-messages::-webkit-scrollbar-thumb {
      background: var(--lavender-purple);
      border-radius: 4px;
    }

    .user-message,
    .bot-message {
      max-width: 75%;
      padding: 16px 20px;
      border-radius: 20px;
      margin-bottom: 8px;
      word-break: break-word;
      position: relative;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      animation: messageSlideIn 0.3s ease-out;
    }

    @keyframes messageSlideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .user-message {
      background: linear-gradient(135deg, var(--dark-slate-blue), var(--lapis-blue));
      align-self: flex-end;
      margin-left: auto;
      border-bottom-right-radius: 6px;
      box-shadow: 0 4px 15px rgba(64, 61, 145, 0.3);
    }

    .bot-message {
      background: linear-gradient(135deg, var(--lavender-purple), var(--deep-lavender));
      align-self: flex-start;
      margin-right: auto;
      border-bottom-left-radius: 6px;
      box-shadow: 0 4px 15px rgba(119, 97, 169, 0.3);
    }

    .typing-indicator {
      display: none;
      align-self: flex-start;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 16px 20px;
      margin-bottom: 8px;
    }

    .typing-dots {
      display: flex;
      gap: 4px;
    }

    .typing-dots span {
      width: 8px;
      height: 8px;
      background: var(--lavender-purple);
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
    }

    .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
    .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }

    .search-wrapper {
      position: fixed;
      bottom: 30px;
      left: 320px;
      right: 40px;
      max-width: unset;
      width: auto;
    }

    .search-container {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      border: 1px solid var(--glass-border);
      border-radius: 25px;
      padding: 6px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .search-wrapper input[type="text"] {
      flex: 1;
      background: transparent;
      border: none;
      padding: 16px 20px;
      color: var(--pearl-bush);
      font-size: 16px;
      outline: none;
    }

    .search-wrapper input[type="text"]::placeholder {
      color: rgba(222, 222, 221, 0.6);
    }

    .search-wrapper input[type="text"]:focus {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
    }

    .search-icon {
      background: linear-gradient(135deg, var(--lavender-purple), var(--deep-lavender));
      border: none;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(119, 97, 169, 0.3);
    }

    .search-icon:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(119, 97, 169, 0.5);
    }

    .search-icon:active {
      transform: scale(0.95);
    }

    .search-icon img {
      width: 20px;
      height: 20px;
      filter: brightness(0) invert(1);
    }

    /* Status indicators */
    .status-indicator {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 14px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      main {
        flex-direction: column;
      }
      
      .cronologia {
        width: 100%;
        height: auto;
        padding: 20px;
      }
      
      .chatSection {
        width: 100%;
        padding: 20px;
      }
      
      .search-wrapper {
        left: 20px;
        right: 20px;
        bottom: 20px;
      }
      
      .botName {
        font-size: 36px;
      }
    }

    /* Miglioramenti per l'accessibilità */
    .user-message:focus,
    .bot-message:focus,
    button:focus,
    input:focus {
      outline: 2px solid var(--lavender-purple);
      outline-offset: 2px;
    }

    /* Animazioni di caricamento */
    .loading {
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
    }
  </style>
</head>
<body>
  <main>
    <section class="cronologia">
      <div class="logo">
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjQ1IiBzdHJva2U9IiNEMUMzRkYiIHN0cm9rZS13aWR0aD0iMyIgZmlsbD0ibm9uZSIvPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIzNSIgZmlsbD0iIzc3NjFBOSIvPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIyNSIgZmlsbD0iIzI1MzM2RSIvPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNSIgZmlsbD0iI0RFREVERCIvPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI1IiBmaWxsPSIjMTMwRjNBIi8+CjxyZWN0IHg9IjQ3IiB5PSIxMCIgd2lkdGg9IjYiIGhlaWdodD0iMjAiIGZpbGw9IiNEMUMzRkYiLz4KPHJlY3QgeD0iNDciIHk9IjcwIiB3aWR0aD0iNiIgaGVpZ2h0PSIyMCIgZmlsbD0iI0QxQzNGRiIvPgo8L3N2Zz4K" alt="Hubble Telescope" />
      </div>
      <div class="pastTitile">Oggi</div>
      <div class="nomechat">Esplorazione Spaziale</div>
      <div class="nomechat">Buchi Neri e Stelle</div>
      <div class="nomechat">Sistema Solare</div>
    </section>

    <section class="chatSection">
      <div class="status-indicator">
        <div class="status-dot"></div>
        <span>Online</span>
      </div>
      
      <h1 class="botName">Hubble</h1>
      <div class="subtitle">
        <h3>"Guardiamo insieme oltre le stelle, fai domande, esplora l'infinito!"</h3>
      </div>
      
      <p>Suggerimenti sulle possibili domande:</p>
      
      <div class="slider-container">
        <button class="nav" id="prev">‹</button>
        <div class="slider" id="slider">
          <button onclick="inserisciTesto(`Cos'è un buco nero nello spazio profondo?`)">🕳️ Cos'è un buco nero nello spazio profondo?</button>
          <button onclick="inserisciTesto(`Come nasce una stella nell'universo?`)">⭐ Come nasce una stella nell'universo?</button>
          <button onclick="inserisciTesto(`Cosa sono le galassie esattamente?`)">🌌 Cosa sono le galassie esattamente?</button>
          <button onclick="inserisciTesto(`Perché la Luna cambia forma visibile?`)">🌙 Perché la Luna cambia forma visibile?</button>
          <button onclick="inserisciTesto(`Che cos'è un'eclissi solare totale?`)">🌑 Che cos'è un'eclissi solare totale?</button>
          <button onclick="inserisciTesto(`Come si misura la distanza spaziale?`)">📏 Come si misura la distanza spaziale?</button>
          <button onclick="inserisciTesto(`Che differenza c'è tra meteora e cometa?`)">☄️ Che differenza c'è tra meteora e cometa?</button>
          <button onclick="inserisciTesto(`Come si formano i pianeti giganti?`)">🪐 Come si formano i pianeti giganti?</button>
          <button onclick="inserisciTesto(`Che cos'è la Via Lattea galattica?`)">🥛 Che cos'è la Via Lattea galattica?</button>
          <button onclick="inserisciTesto(`Perché lo spazio è completamente muto?`)">🔇 Perché lo spazio è completamente muto?</button>
        </div>
        <button class="nav" id="next">›</button>
      </div>

      <div class="chat-messages" id="chatMessages">
        <div class="bot-message">
          Ciao! Sono Hubble, il tuo assistente per esplorare i misteri dell'universo. Cosa ti incuriosisce di più sul cosmo? 🚀✨
        </div>
      </div>

      <div class="typing-indicator" id="typingIndicator">
        <div class="typing-dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <div class="search-wrapper">
        <div class="search-container">
          <input type="text" id="campoDomanda" placeholder="Esplora l'universo con le tue domande..." autocomplete="off" />
          <button class="search-icon" onclick="handleUserInput()">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIyIDJMMTEgMTNMMTUgMTdMMjIgMloiIGZpbGw9IndohpdGUiLz4KPHA0aCBkPSJNMTEgMTNMOSAxNUwyIDIyTDIgMjJMMTEgMTNaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K" alt="Invia" />
          </button>
        </div>
      </div>
    </section>
  </main>

  <script>
    function inserisciTesto(testo) {
      document.getElementById("campoDomanda").value = testo;
      document.getElementById("campoDomanda").focus();
    }

    const slider = document.getElementById('slider');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const scrollAmount = 200;

    prev.addEventListener('click', () => {
      slider.scrollLeft -= scrollAmount;
    });
    
    next.addEventListener('click', () => {
      slider.scrollLeft += scrollAmount;
    });

    // Invio con Enter
    document.getElementById("campoDomanda").addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        e.preventDefault();
        handleUserInput();
      }
    });

    function handleUserInput() {
      const input = document.getElementById('campoDomanda');
      const message = input.value.trim();
      if (!message) return;

      addMessage(message, false);
      showTypingIndicator();
      
      // Simula il ritardo di risposta del bot
      setTimeout(() => {
        hideTypingIndicator();
        const risposta = getBotResponse(message);
        addMessage(risposta, true);
      }, 1000 + Math.random() * 1000);

      input.value = '';
    }

    function addMessage(text, isBot) {
      const msgDiv = document.createElement('div');
      msgDiv.className = isBot ? 'bot-message' : 'user-message';
      msgDiv.innerHTML = text.replace(/\n/g, '<br>');
      document.getElementById('chatMessages').appendChild(msgDiv);
      document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
    }

    function showTypingIndicator() {
      const indicator = document.getElementById('typingIndicator');
      indicator.style.display = 'flex';
      document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
    }

    function hideTypingIndicator() {
      const indicator = document.getElementById('typingIndicator');
      indicator.style.display = 'none';
    }

    function getBotResponse(msg) {
      msg = msg.toLowerCase();

      if (msg.includes('ciao') || msg.includes('salve') || msg.includes('buongiorno')) {
        return '🌟 Ciao! Benvenuto nel viaggio attraverso l\'universo! Come posso aiutarti a esplorare i misteri del cosmo oggi?';
      }
      if (msg.includes('come stai') || msg.includes('come va')) {
        return '🚀 Sto navigando perfettamente tra le stelle! Sono qui e pronto ad esplorare l\'infinito insieme a te. Cosa ti incuriosisce dell\'universo?';
      }
      if (msg.includes('buco nero')) {
        return '🕳️ Un buco nero è una delle meraviglie più misteriose dell\'universo! È una regione dello spazio dove la gravità è così intensa che nulla può sfuggire, nemmeno la luce. Si forma quando una stella super-massiccia (almeno 25 volte più grande del nostro Sole) collassa su se stessa. Il confine del buco nero si chiama "orizzonte degli eventi" - oltre questo punto, tutto viene inevitabilmente attirato verso il centro!';
      }
      if (msg.includes('stella')) {
        return '⭐ Le stelle nascono in nursery cosmiche chiamate nebulose! Immagina enormi nubi di gas (principalmente idrogeno) e polveri cosmiche che, sotto l\'azione della gravità, iniziano a collassare su se stesse. Quando la temperatura al centro raggiunge i 10 milioni di gradi, inizia la fusione nucleare: l\'idrogeno si trasforma in elio, liberando un\'energia incredibile. È così che nasce una stella e inizia a brillare per milioni o miliardi di anni! ✨';
      }
      if (msg.includes('galassi')) {
        return '🌌 Le galassie sono come città cosmiche gigantesche! La nostra Via Lattea ospita oltre 200 miliardi di stelle, insieme a gas, polveri e materia oscura. Esistono galassie spirali (come la nostra), ellittiche e irregolari. Alcune galassie sono così lontane che la loro luce ha viaggiato per miliardi di anni prima di raggiungerci - quando le osserviamo, vediamo com\'erano nell\'universo primordiale!';
      }
      if (msg.includes('luna') && msg.includes('forma')) {
        return '🌙 La Luna non cambia realmente forma, ma noi vediamo porzioni diverse della sua superficie illuminata dal Sole! È come una danza cosmica: mentre la Luna orbita attorno alla Terra in 29,5 giorni, il Sole illumina sempre metà della sua surface. A seconda della posizione della Luna rispetto alla Terra e al Sole, vediamo crescenti, quarti, gibbose e la luna piena. È un balletto cosmico perfetto che si ripete da miliardi di anni!';
      }
      if (msg.includes('eclissi')) {
        return '🌑 Un\'eclissi solare totale è uno degli spettacoli più incredibili della natura! Accade quando la Luna si posiziona perfettamente tra la Terra e il Sole, proiettando la sua ombra sul nostro pianeta. Per pochi minuti, il giorno si trasforma in notte, le temperature scendono, gli animali si comportano stranamente e possiamo vedere la corona solare - l\'atmosfera esterna del Sole. È un evento raro e magico che ricorda quanto siamo piccoli nell\'universo!';
      }
      if (msg.includes('distanza')) {
        return '📏 Per misurare le enormi distanze spaziali usiamo unità speciali! L\'anno luce (9.460 miliardi di km) è la distanza che la luce percorre in un anno. Il parsec (3,26 anni luce) è usato per stelle vicine. Per galassie lontane, parliamo di milioni o miliardi di anni luce! Gli astronomi usano anche il metodo della parallasse, delle stelle variabili Cefeidi e delle supernovae per calcolare queste distanze incredibili.';
      }
      if (msg.includes('meteora') || msg.includes('cometa')) {
        return '☄️ Sono due fenomeni completamente diversi! Una meteora è ciò che vediamo quando un frammento di roccia o metallo (meteoroide) entra nella nostra atmosfera a velocità incredibile (fino a 70 km/s) e si vaporizza creando quella scia luminosa che chiamiamo "stella cadente". Una cometa invece è un corpo celeste fatto di ghiaccio, roccia e polveri che orbita il Sole. Quando si avvicina al Sole, il calore fa vaporizzare i ghiacci creando quella spettacolare coda brillante!';
      }
      if (msg.includes('pianeti giganti')) {
        return '🪐 I pianeti giganti come Giove e Saturno si sono formati nelle regioni esterne del sistema solare, dove faceva abbastanza freddo da permettere ai ghiacci di condensare. Prima si è formato un nucleo roccioso (grande come la Terra), poi questo nucleo ha attirato enormi quantità di gas idrogeno ed elio. È come costruire una palla di neve gigante che continua a crescere! Giove è così grande che potrebbe contenere tutti gli altri pianeti del sistema solare!';
      }
      if (msg.includes('via lattea')) {
        return '🥛 La Via Lattea è la nostra galassia domestica! È una galassia spirale con circa 200-400 miliardi di stelle disposte in bracci che ruotano attorno al centro galattico. Il nostro Sistema Solare si trova in un braccio chiamato "Braccio di Orione", a circa 26.000 anni luce dal centro. La galassia è così grande che se viaggiassimo alla velocità della luce ci vorrebbero 100.000 anni per attraversarla! E il nome? Deriva dall\'aspetto lattiginoso che ha nel cielo notturno.';
      }
      if (msg.includes('muto') || msg.includes('silenzioso')) {
        return '🔇 Lo spazio è silenzioso perché il suono ha bisogno di un mezzo per viaggiare - come l\'aria o l\'acqua - e nello spazio c\'è il vuoto quasi perfetto! Le onde sonore sono vibrazioni che si propagano attraverso le molecole, ma dove non ci sono molecole sufficienti, non c\'è suono. Tuttavia, gli astronomi possono "ascoltare" lo spazio convertendo le onde radio e magnetiche in suoni. È affascinante: il silenzio cosmico non significa che l\'universo sia inattivo!';
      }
      if (msg.includes('saturno') || msg.includes('anelli')) {
        return '🪐 Gli anelli di Saturno sono uno spettacolo mozzafiato! Sono formati da miliardi di particelle di ghiaccio e roccia, dalle dimensioni di granelli di sabbia fino a massi grandi come case. Si pensa che si siano formati da lune distrutte o comete frammentate dalla gravità di Saturno. Anche se sembrano solidi da lontano, sono in realtà come una pista da ballo cosmica dove ogni particella orbita individualmente!';
      }
      if (msg.includes('sole') || msg.includes('temperatura')) {
        return '☀️ Il nostro Sole è una fornace nucleare incredibile! La sua superficie raggiunge 5.500°C, ma il nucleo brucia a 15 milioni di gradi! Ogni secondo trasforma 600 milioni di tonnellate di idrogeno in elio, rilasciando l\'energia equivalente a miliardi di bombe atomiche. Questa energia impiega circa 8 minuti per raggiungere la Terra, viaggiando a 300.000 km/s!';
      }
      if (msg.includes('marte') || msg.includes('vita')) {
        return '🔴 Marte è il nostro vicino più affascinante! Un tempo aveva oceani e un\'atmosfera più densa, condizioni che avrebbero potuto sostenere la vita. Oggi sappiamo che c\'è acqua sotto forma di ghiaccio ai poli e forse liquida nel sottosuolo. I rover della NASA stanno cercando segni di vita microbica passata. Chi lo sa, forse un giorno scopriremo che non siamo soli nell\'universo!';
      }
      if (msg.includes('terra') || msg.includes('età')) {
        return '🌍 La nostra Terra ha circa 4,5 miliardi di anni! Si è formata dall\'accrezione di polveri e rocce nella nebulosa solare primordiale. All\'inizio era un mondo infernale bombardato da asteroidi. L\'acqua arrivò probabilmente dalle comete, e la vita iniziò negli oceani primitivi circa 3,8 miliardi di anni fa. Siamo tutti fatti di polvere di stelle! ✨';
      }
      if (msg.includes('universo') || msg.includes('grande')) {
        return '🌌 L\'universo è incredibilmente vasto! L\'universo osservabile ha un diametro di circa 93 miliardi di anni luce e contiene almeno 2 trilioni di galassie. Si è formato 13,8 miliardi di anni fa con il Big Bang e continua a espandersi. Per mettere in prospettiva: se la Terra fosse un granello di sabbia, l\'universo osservabile sarebbe grande come la Terra stessa!';
      }
      if (msg.includes('tempo') || msg.includes('che ore sono')) {
        const now = new Date();
        const timeString = now.toLocaleTimeString('it-IT', {
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        });
        return `🕐 Sono le ${timeString}. Ma sai una cosa affascinante? Il tempo scorre diversamente nello spazio! Secondo la relatività di Einstein, più ci si avvicina alla velocità della luce o a un campo gravitazionale forte, più il tempo rallenta. Per gli astronauti sulla Stazione Spaziale Internazionale, il tempo passa leggermente più lento!`;
      }
      if (msg.includes('grazie')) {
        return '🌟 Prego! È un piacere esplorare l\'universo insieme a te! L\'astronomia ci insegna quanto siamo connessi al cosmo - siamo letteralmente fatti di polvere di stelle. Hai altre curiosità cosmiche da soddisfare?';
      }
      if (msg.includes('telescopio') || msg.includes('hubble')) {
        return '🔭 Il telescopio Hubble ha rivoluzionato la nostra comprensione dell\'universo! Dal 1990 orbita a 550 km dalla Terra, catturando immagini spettacolari di galassie lontane, nebulose colorate e pianeti del nostro sistema solare. Ha contribuito a scoprire che l\'espansione dell\'universo sta accelerando e ha fotografato i primi istanti dopo il Big Bang. Ogni sua immagine è una finestra sul passato cosmico!';
      }

      // Risposte casuali per domande non riconosciute
      const risposteGeneriche = [
        "🌌 Interessante domanda! L'universo è pieno di misteri affascinanti. Potresti essere più specifico? Mi piace esplorare ogni dettaglio del cosmo!",
        "✨ Mi hai incuriosito! Non sono sicuro di aver capito bene la tua domanda. Puoi riformularla? Sono qui per guidarti tra le stelle!",
        "🚀 Wow, una domanda intrigante! Tuttavia non ho informazioni specifiche su questo argomento. Prova a chiedermi di stelle, pianeti, galassie o buchi neri!",
        "🔭 La tua curiosità è fantastica! Anche se non ho una risposta precisa per questo, posso aiutarti con tantissimi altri misteri dell'universo. Cosa ti incuriosisce di più del cosmo?"
      ];

      return risposteGeneriche[Math.floor(Math.random() * risposteGeneriche.length)];}